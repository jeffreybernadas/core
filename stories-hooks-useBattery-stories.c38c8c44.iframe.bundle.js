/*! For license information please see stories-hooks-useBattery-stories.c38c8c44.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_bernz322_core=self.webpackChunk_bernz322_core||[]).push([[7930],{"./node_modules/fast-deep-equal/react.js":module=>{module.exports=function equal(a,b){if(a===b)return!0;if(a&&b&&"object"==typeof a&&"object"==typeof b){if(a.constructor!==b.constructor)return!1;var length,i,keys;if(Array.isArray(a)){if((length=a.length)!=b.length)return!1;for(i=length;0!=i--;)if(!equal(a[i],b[i]))return!1;return!0}if(a.constructor===RegExp)return a.source===b.source&&a.flags===b.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===b.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===b.toString();if((length=(keys=Object.keys(a)).length)!==Object.keys(b).length)return!1;for(i=length;0!=i--;)if(!Object.prototype.hasOwnProperty.call(b,keys[i]))return!1;for(i=length;0!=i--;){var key=keys[i];if(("_owner"!==key||!a.$$typeof)&&!equal(a[key],b[key]))return!1}return!0}return a!=a&&b!=b}},"./node_modules/react/cjs/react-jsx-runtime.production.js":(__unused_webpack_module,exports)=>{var REACT_ELEMENT_TYPE=Symbol.for("react.transitional.element"),REACT_FRAGMENT_TYPE=Symbol.for("react.fragment");function jsxProd(type,config,maybeKey){var key=null;if(void 0!==maybeKey&&(key=""+maybeKey),void 0!==config.key&&(key=""+config.key),"key"in config)for(var propName in maybeKey={},config)"key"!==propName&&(maybeKey[propName]=config[propName]);else maybeKey=config;return config=maybeKey.ref,{$$typeof:REACT_ELEMENT_TYPE,type,key,ref:void 0!==config?config:null,props:maybeKey}}exports.Fragment=REACT_FRAGMENT_TYPE,exports.jsx=jsxProd,exports.jsxs=jsxProd},"./node_modules/react/jsx-runtime.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/react/cjs/react-jsx-runtime.production.js")},"./src/hooks/misc/isDeepEqual.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var fast_deep_equal_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/fast-deep-equal/react.js");const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__.n(fast_deep_equal_react__WEBPACK_IMPORTED_MODULE_0__)()},"./src/hooks/misc/util.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{AU:()=>off,Bd:()=>isBrowser,lQ:()=>noop,on:()=>on,w2:()=>isNavigator});const noop=()=>{};function on(obj,...args){obj&&obj.addEventListener&&obj.addEventListener(...args)}function off(obj,...args){obj&&obj.removeEventListener&&obj.removeEventListener(...args)}const isBrowser="undefined"!=typeof window,isNavigator="undefined"!=typeof navigator},"./src/stories/hooks/useBattery.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Example:()=>Example,__namedExportsOrder:()=>__namedExportsOrder,default:()=>useBattery_stories});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/react/index.js"),util=__webpack_require__("./src/hooks/misc/util.ts"),isDeepEqual=__webpack_require__("./src/hooks/misc/isDeepEqual.ts");const nav=util.w2?navigator:void 0;const hooks_useBattery=nav&&"function"==typeof nav.getBattery?function useBattery(){const[state,setState]=(0,react.useState)({isSupported:!0,fetched:!1});return(0,react.useEffect)((()=>{let isMounted=!0,battery=null;const handleChange=()=>{if(!isMounted||!battery)return;const newState={isSupported:!0,fetched:!0,level:battery.level,charging:battery.charging,dischargingTime:battery.dischargingTime,chargingTime:battery.chargingTime};!(0,isDeepEqual.A)(state,newState)&&setState(newState)};return nav.getBattery().then((bat=>{isMounted&&(battery=bat,(0,util.on)(battery,"chargingchange",handleChange),(0,util.on)(battery,"chargingtimechange",handleChange),(0,util.on)(battery,"dischargingtimechange",handleChange),(0,util.on)(battery,"levelchange",handleChange),handleChange())})),()=>{isMounted=!1,battery&&((0,util.AU)(battery,"chargingchange",handleChange),(0,util.AU)(battery,"chargingtimechange",handleChange),(0,util.AU)(battery,"dischargingtimechange",handleChange),(0,util.AU)(battery,"levelchange",handleChange))}}),[]),state}:function useBatteryMock(){return{isSupported:!1}};var ThemeProvider=__webpack_require__("./src/themes/shadcn/ThemeProvider.tsx");const useBattery_stories={title:"Hooks/Browser API/useBattery",parameters:{layout:"centered",docs:{canvas:{sourceState:"none"},description:{component:'`useBattery` is a hook that provides access to the Battery Status API.\nIt\'s useful for monitoring device battery status and implementing power-aware features.\n\n### Module Federation Import\n```tsx\nimport { useBattery } from "@core/hooks";\n```\n\n### NPM Package Import\n```tsx\nimport { useBattery } from "@bernz322/core/hooks";\n```\n\n### Basic Usage\n```tsx\nconst Component = () => {\n  const battery = useBattery();\n\n  if (!battery.isSupported) {\n    return <div>Battery API is not supported</div>;\n  }\n\n  if (!battery.fetched) {\n    return <div>Loading battery status...</div>;\n  }\n\n  return (\n    <div>\n      <div>Level: {battery.level * 100}%</div>\n      <div>Charging: {battery.charging ? "Yes" : "No"}</div>\n    </div>\n  );\n};\n```\n\n### Returns\n- UseBatteryState: One of three possible states:\n  1. { isSupported: false } - Battery API is not supported\n  2. { isSupported: true, fetched: false } - API supported but not fetched yet\n  3. {\n       isSupported: true,\n       fetched: true,\n       level: number, // Battery level (0 to 1)\n       charging: boolean, // Whether device is charging\n       chargingTime: number, // Seconds until charged\n       dischargingTime: number // Seconds until empty\n     }\n\n### Browser Compatibility\nBattery Status API is supported in:\n- Chrome 38+\n- Firefox 31+\n- Opera 25+\nNot supported in Safari or IE.\n\n### Related Resources\n- [MDN: Battery Status API](https://developer.mozilla.org/en-US/docs/Web/API/Battery_Status_API)\n- [W3C: Battery Status API](https://w3c.github.io/battery/)'}}},tags:["autodocs"],decorators:[Story=>(0,jsx_runtime.jsx)(ThemeProvider.N,{children:(0,jsx_runtime.jsx)(Story,{})})]},Example={render:()=>{const battery=hooks_useBattery();return(0,jsx_runtime.jsxs)("div",{className:"space-y-6 max-w-lg",children:[(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("h3",{className:"text-lg font-semibold mb-2 text-slate-900 dark:text-slate-100",children:"Battery Status Monitor"}),(0,jsx_runtime.jsx)("div",{className:"bg-slate-100 dark:bg-slate-800 p-4 rounded-lg",children:battery.isSupported?battery.fetched?(0,jsx_runtime.jsxs)("div",{className:"space-y-6",children:[(0,jsx_runtime.jsxs)("div",{className:"space-y-2",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-between text-sm text-slate-600 dark:text-slate-400",children:[(0,jsx_runtime.jsx)("span",{children:"Battery Level"}),(0,jsx_runtime.jsxs)("span",{children:[Math.round(100*battery.level),"%"]})]}),(0,jsx_runtime.jsx)("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:(0,jsx_runtime.jsx)("div",{className:"h-full transition-all duration-300 rounded-full "+(battery.level>.2?battery.charging?"bg-green-500":"bg-blue-500":"bg-red-500"),style:{width:100*battery.level+"%"}})})]}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,jsx_runtime.jsx)("div",{className:"w-3 h-3 rounded-full "+(battery.charging?"bg-green-500":"bg-slate-400")}),(0,jsx_runtime.jsx)("span",{className:"text-slate-700 dark:text-slate-300",children:battery.charging?"Charging":"Not Charging"})]}),(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,jsx_runtime.jsxs)("div",{className:"space-y-1",children:[(0,jsx_runtime.jsx)("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Time until charged"}),(0,jsx_runtime.jsx)("div",{className:"text-slate-700 dark:text-slate-300",children:battery.charging?battery.chargingTime===1/0?"Calculating...":formatTime(battery.chargingTime):"Not charging"})]}),(0,jsx_runtime.jsxs)("div",{className:"space-y-1",children:[(0,jsx_runtime.jsx)("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Time until empty"}),(0,jsx_runtime.jsx)("div",{className:"text-slate-700 dark:text-slate-300",children:battery.charging?"Plugged in":battery.dischargingTime===1/0?"Calculating...":formatTime(battery.dischargingTime)})]})]}),battery.level<=.2&&!battery.charging&&(0,jsx_runtime.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 rounded text-sm text-red-600 dark:text-red-400",children:[(0,jsx_runtime.jsx)("div",{className:"font-medium",children:"Low Battery Warning"}),(0,jsx_runtime.jsx)("div",{className:"mt-1",children:"Consider enabling power saving mode or connecting your charger."})]})]}):(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-center p-4",children:[(0,jsx_runtime.jsx)("div",{className:"w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),(0,jsx_runtime.jsx)("span",{className:"ml-2 text-slate-600 dark:text-slate-400",children:"Loading battery status..."})]}):(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-center p-4 bg-yellow-50 dark:bg-yellow-900/20 text-yellow-600 dark:text-yellow-400 rounded",children:[(0,jsx_runtime.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,jsx_runtime.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Battery API is not supported in your browser"]})})]}),(0,jsx_runtime.jsx)("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded",children:(0,jsx_runtime.jsx)("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Connect/disconnect your device's charger to see the battery status update in real-time! Note: This feature requires browser support for the Battery API. 🔋"})})]})}},formatTime=seconds=>{if(!Number.isFinite(seconds)||0===seconds)return"Unknown";return`${Math.floor(seconds/3600)}h ${Math.floor(seconds%3600/60)}m`},__namedExportsOrder=["Example"];Example.parameters={...Example.parameters,docs:{...Example.parameters?.docs,source:{originalSource:'{\n  render: () => {\n    const battery = useBattery();\n    return <div className="space-y-6 max-w-lg">\n        <div>\n          <h3 className="text-lg font-semibold mb-2 text-slate-900 dark:text-slate-100">\n            Battery Status Monitor\n          </h3>\n          <div className="bg-slate-100 dark:bg-slate-800 p-4 rounded-lg">\n            {!battery.isSupported ? <div className="flex items-center justify-center p-4 bg-yellow-50 dark:bg-yellow-900/20 text-yellow-600 dark:text-yellow-400 rounded">\n                <svg className="w-5 h-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />\n                </svg>\n                Battery API is not supported in your browser\n              </div> : !battery.fetched ? <div className="flex items-center justify-center p-4">\n                <div className="w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full animate-spin" />\n                <span className="ml-2 text-slate-600 dark:text-slate-400">\n                  Loading battery status...\n                </span>\n              </div> : <div className="space-y-6">\n                {/* Battery Level Indicator */}\n                <div className="space-y-2">\n                  <div className="flex items-center justify-between text-sm text-slate-600 dark:text-slate-400">\n                    <span>Battery Level</span>\n                    <span>{Math.round(battery.level * 100)}%</span>\n                  </div>\n                  <div className="h-4 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden">\n                    <div className={`h-full transition-all duration-300 rounded-full ${battery.level > 0.2 ? battery.charging ? "bg-green-500" : "bg-blue-500" : "bg-red-500"}`} style={{\n                  width: `${battery.level * 100}%`\n                }} />\n                  </div>\n                </div>\n\n                {/* Charging Status */}\n                <div className="flex items-center space-x-2 text-sm">\n                  <div className={`w-3 h-3 rounded-full ${battery.charging ? "bg-green-500" : "bg-slate-400"}`} />\n                  <span className="text-slate-700 dark:text-slate-300">\n                    {battery.charging ? "Charging" : "Not Charging"}\n                  </span>\n                </div>\n\n                {/* Time Estimates */}\n                <div className="grid grid-cols-2 gap-4">\n                  <div className="space-y-1">\n                    <div className="text-sm text-slate-500 dark:text-slate-400">\n                      Time until charged\n                    </div>\n                    <div className="text-slate-700 dark:text-slate-300">\n                      {battery.charging ? battery.chargingTime === Infinity ? "Calculating..." : formatTime(battery.chargingTime) : "Not charging"}\n                    </div>\n                  </div>\n                  <div className="space-y-1">\n                    <div className="text-sm text-slate-500 dark:text-slate-400">\n                      Time until empty\n                    </div>\n                    <div className="text-slate-700 dark:text-slate-300">\n                      {!battery.charging ? battery.dischargingTime === Infinity ? "Calculating..." : formatTime(battery.dischargingTime) : "Plugged in"}\n                    </div>\n                  </div>\n                </div>\n\n                {/* Power Saving Tips */}\n                {battery.level <= 0.2 && !battery.charging && <div className="bg-red-50 dark:bg-red-900/20 p-3 rounded text-sm text-red-600 dark:text-red-400">\n                    <div className="font-medium">Low Battery Warning</div>\n                    <div className="mt-1">\n                      Consider enabling power saving mode or connecting your\n                      charger.\n                    </div>\n                  </div>}\n              </div>}\n          </div>\n        </div>\n\n        {/* Instructions */}\n        <div className="mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded">\n          <p className="text-sm text-blue-600 dark:text-blue-400">\n            Connect/disconnect your device\'s charger to see the battery status\n            update in real-time! Note: This feature requires browser support for\n            the Battery API. 🔋\n          </p>\n        </div>\n      </div>;\n  }\n}',...Example.parameters?.docs?.source}}}},"./src/themes/shadcn/ThemeProvider.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>ThemeProvider});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js");const initialState={theme:"system",setTheme:()=>null},ThemeProviderContext=(0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(initialState);function ThemeProvider({children,defaultTheme="system",storageKey="shadcn-core-theme",...props}){const[theme,setTheme]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((()=>localStorage.getItem(storageKey)||defaultTheme));(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{const root=window.document.documentElement;if(root.classList.remove("light","dark"),"system"!==theme)root.classList.add(theme);else{const systemTheme=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";root.classList.add(systemTheme)}}),[theme]);const value=(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)((()=>({theme,setTheme:theme=>{localStorage.setItem(storageKey,theme),setTheme(theme)}})),[theme,storageKey,setTheme]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ThemeProviderContext.Provider,{...props,value,children})}ThemeProvider.__docgenInfo={description:'ShadCn Theme Provider Component\n\nProvides theme context and functionality for light/dark mode in ShadCn components.\nAutomatically handles system theme preference and persists user choice.\n\n@param {Object} props - Component props\n@param {React.ReactNode} props.children - Child components to be wrapped\n@param {Theme} [props.defaultTheme="system"] - Default theme ("light", "dark", or "system")\n@param {string} [props.storageKey="core-ui-theme"] - LocalStorage key for theme persistence',methods:[],displayName:"ThemeProvider",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},defaultTheme:{required:!1,tsType:{name:"union",raw:'"dark" | "light" | "system"',elements:[{name:"literal",value:'"dark"'},{name:"literal",value:'"light"'},{name:"literal",value:'"system"'}]},description:"",defaultValue:{value:'"system"',computed:!1}},storageKey:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"shadcn-core-theme"',computed:!1}}}}}}]);