"use strict";(self.webpackChunk_bernz322_core=self.webpackChunk_bernz322_core||[]).push([[8220],{"./src/hooks/factory/createHTMLMediaHook.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>createHTMLMediaHook});var react=__webpack_require__("./node_modules/react/index.js"),useSetState=__webpack_require__("./src/hooks/useSetState.ts");function parseTimeRanges(ranges){const result=[];for(let i=0;i<ranges.length;i++)result.push({start:ranges.start(i),end:ranges.end(i)});return result}function createHTMLMediaHook(tag){return elOrProps=>{let element,props;react.isValidElement(elOrProps)?(element=elOrProps,props=element.props):props=elOrProps;const[state,setState]=(0,useSetState.A)({buffered:[],time:0,duration:0,paused:!0,muted:!1,volume:1,playing:!1}),ref=(0,react.useRef)(null),wrapEvent=(userEvent,proxyEvent)=>event=>{try{proxyEvent&&proxyEvent(event)}finally{userEvent&&userEvent(event)}},onPlay=()=>setState({paused:!1}),onPlaying=()=>setState({playing:!0}),onWaiting=()=>setState({playing:!1}),onPause=()=>setState({paused:!0,playing:!1}),onVolumeChange=()=>{const el=ref.current;el&&setState({muted:el.muted,volume:el.volume})},onDurationChange=()=>{const el=ref.current;if(!el)return;const{duration,buffered}=el;setState({duration,buffered:parseTimeRanges(buffered)})},onTimeUpdate=()=>{const el=ref.current;el&&setState({time:el.currentTime})},onProgress=()=>{const el=ref.current;el&&setState({buffered:parseTimeRanges(el.buffered)})};element=element?react.cloneElement(element,{controls:!1,...props,ref,onPlay:wrapEvent(props.onPlay,onPlay),onPlaying:wrapEvent(props.onPlaying,onPlaying),onWaiting:wrapEvent(props.onWaiting,onWaiting),onPause:wrapEvent(props.onPause,onPause),onVolumeChange:wrapEvent(props.onVolumeChange,onVolumeChange),onDurationChange:wrapEvent(props.onDurationChange,onDurationChange),onTimeUpdate:wrapEvent(props.onTimeUpdate,onTimeUpdate),onProgress:wrapEvent(props.onProgress,onProgress)}):react.createElement(tag,{controls:!1,...props,ref,onPlay:wrapEvent(props.onPlay,onPlay),onPlaying:wrapEvent(props.onPlaying,onPlaying),onWaiting:wrapEvent(props.onWaiting,onWaiting),onPause:wrapEvent(props.onPause,onPause),onVolumeChange:wrapEvent(props.onVolumeChange,onVolumeChange),onDurationChange:wrapEvent(props.onDurationChange,onDurationChange),onTimeUpdate:wrapEvent(props.onTimeUpdate,onTimeUpdate),onProgress:wrapEvent(props.onProgress,onProgress)});let lockPlay=!1;const controls={play:()=>{const el=ref.current;if(el&&!lockPlay){const promise=el.play();if("object"==typeof promise){lockPlay=!0;const resetLock=()=>{lockPlay=!1};promise.then(resetLock,resetLock)}return promise}},pause:()=>{const el=ref.current;if(el&&!lockPlay)return el.pause()},seek:time=>{const el=ref.current;el&&void 0!==state.duration&&(time=Math.min(state.duration,Math.max(0,time)),el.currentTime=time)},volume:volume=>{const el=ref.current;el&&(volume=Math.min(1,Math.max(0,volume)),el.volume=volume,setState({volume}))},mute:()=>{const el=ref.current;el&&(el.muted=!0)},unmute:()=>{const el=ref.current;el&&(el.muted=!1)}};return(0,react.useEffect)((()=>{const el=ref.current;el&&(setState({volume:el.volume,muted:el.muted,paused:el.paused}),props.autoPlay&&el.paused&&controls.play())}),[props.src]),[element,state,controls,ref]}}},"./src/hooks/useSetState.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const __WEBPACK_DEFAULT_EXPORT__=(initialState={})=>{const[state,set]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialState);return[state,(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((patch=>{set((prevState=>Object.assign({},prevState,patch instanceof Function?patch(prevState):patch)))}),[])]}},"./src/stories/hooks/useVideo.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Example:()=>Example,__namedExportsOrder:()=>__namedExportsOrder,default:()=>useVideo_stories});var react=__webpack_require__("./node_modules/react/index.js");const hooks_useVideo=(0,__webpack_require__("./src/hooks/factory/createHTMLMediaHook.ts").A)("video");var ThemeProvider=__webpack_require__("./src/themes/shadcn/ThemeProvider.tsx");const useVideo_stories={title:"Hooks/Browser API/useVideo",parameters:{layout:"centered",docs:{canvas:{sourceState:"none"},description:{component:'`useVideo` is a hook that provides a way to control HTML5 video playback and monitor its state.\n\n### Module Federation Import\n```tsx\nimport { useVideo } from "@core/hooks";\n```\n\n### NPM Package Import\n```tsx\nimport { useVideo } from "@bernz322/core/hooks";\n```\n\n### Basic Usage\n```tsx\nconst Component = () => {\n  const [video, state, controls, ref] = useVideo({\n    src: \'https://example.com/video.mp4\',\n    autoPlay: false,\n  });\n\n  return (\n    <div>\n      {video}\n      <div>Time: {state.time}</div>\n      <button onClick={controls.play}>Play</button>\n      <button onClick={controls.pause}>Pause</button>\n    </div>\n  );\n};\n```\n\n### Parameters\n```tsx\nuseVideo(\n  props: HTMLMediaProps // Video element props including src, autoPlay, controls, etc.\n): [JSX.Element, HTMLMediaState, HTMLMediaControls, React.RefObject<HTMLVideoElement>]\n```\n\n### Returns\n```tsx\n[\n  JSX.Element,                              // Video element\n  HTMLMediaState,                           // Current video state\n  HTMLMediaControls,                        // Video control functions\n  React.RefObject<HTMLVideoElement>         // Reference to video element\n]\n```\n\n### Features\n- Full video playback control\n- State monitoring (time, duration, buffering)\n- Volume and mute control\n- Seeking functionality\n- Custom controls support\n- SSR compatible\n- Type-safe\n\n### Browser Compatibility\nCompatible with all modern browsers that support:\n- HTML5 Video\n- Media Source Extensions\n\n### Related Resources\n- [HTMLVideoElement](https://developer.mozilla.org/en-US/docs/Web/API/HTMLVideoElement)\n- [Media Source Extensions](https://developer.mozilla.org/en-US/docs/Web/API/Media_Source_Extensions_API)'}}},tags:["autodocs"],decorators:[Story=>react.createElement(ThemeProvider.N,null,react.createElement(Story,null))]},VideoExample=()=>{const[video,state,controls,ref]=hooks_useVideo({src:"https://dn720407.ca.archive.org/0/items/rick-roll/Rick%20Roll.ia.mp4",autoPlay:!1,controls:!1}),formatTime=time=>`${Math.floor(time/60)}:${Math.floor(time%60).toString().padStart(2,"0")}`;return react.createElement("div",{className:"w-[500px]"},react.createElement("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 shadow-lg space-y-6"},react.createElement("div",null,react.createElement("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100"},"Video Player Demo"),react.createElement("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1"},"A custom video player with full playback control")),react.createElement("div",{className:"space-y-6"},react.createElement("div",{className:"relative rounded-lg overflow-hidden bg-black"},video,react.createElement("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4"},react.createElement("div",{className:"mb-2"},react.createElement("div",{className:"h-1 bg-slate-600 dark:bg-slate-700 rounded-full cursor-pointer",onClick:e=>{const rect=e.currentTarget.getBoundingClientRect(),pos=(e.clientX-rect.left)/rect.width;controls.seek(state.duration*pos)}},react.createElement("div",{className:"h-full bg-blue-500 rounded-full relative group",style:{width:state.time/state.duration*100+"%"}},react.createElement("div",{className:"absolute -right-1.5 top-1/2 -translate-y-1/2 w-3 h-3 bg-blue-500 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"})))),react.createElement("div",{className:"flex items-center gap-4"},react.createElement("button",{onClick:state.paused?controls.play:controls.pause,className:"text-white hover:text-blue-400 transition-colors"},state.paused?react.createElement("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},react.createElement("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})):react.createElement("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},react.createElement("path",{d:"M5.75 3a.75.75 0 00-.75.75v12.5c0 .414.336.75.75.75h1.5a.75.75 0 00.75-.75V3.75A.75.75 0 007.25 3h-1.5zM12.75 3a.75.75 0 00-.75.75v12.5c0 .414.336.75.75.75h1.5a.75.75 0 00.75-.75V3.75a.75.75 0 00-.75-.75h-1.5z"}))),react.createElement("div",{className:"text-white text-sm font-mono"},formatTime(state.time)," / ",formatTime(state.duration)),react.createElement("div",{className:"flex items-center gap-2"},react.createElement("button",{onClick:state.muted?controls.unmute:controls.mute,className:"text-white hover:text-blue-400 transition-colors"},state.muted?react.createElement("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},react.createElement("path",{d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM12.293 7.293a1 1 0 011.414 0L15 8.586l1.293-1.293a1 1 0 111.414 1.414L16.414 10l1.293 1.293a1 1 0 01-1.414 1.414L15 11.414l-1.293 1.293a1 1 0 01-1.414-1.414L13.586 10l-1.293-1.293a1 1 0 010-1.414z"})):react.createElement("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},react.createElement("path",{d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z"}))),react.createElement("input",{type:"range",min:"0",max:"1",step:"0.1",value:state.muted?0:state.volume,onChange:e=>controls.volume(Number(e.target.value)),className:"w-20 accent-blue-500"}))))),react.createElement("div",{className:"bg-slate-100 dark:bg-slate-700 p-4 rounded-lg"},react.createElement("h4",{className:"font-medium text-slate-900 dark:text-slate-100 mb-2"},"Video State"),react.createElement("div",{className:"grid grid-cols-2 gap-2 text-sm"},react.createElement("div",{className:"text-slate-600 dark:text-slate-300"},react.createElement("span",{className:"font-medium"},"Playing:")," ",state.playing?"Yes":"No"),react.createElement("div",{className:"text-slate-600 dark:text-slate-300"},react.createElement("span",{className:"font-medium"},"Paused:")," ",state.paused?"Yes":"No"),react.createElement("div",{className:"text-slate-600 dark:text-slate-300"},react.createElement("span",{className:"font-medium"},"Muted:")," ",state.muted?"Yes":"No"),react.createElement("div",{className:"text-slate-600 dark:text-slate-300"},react.createElement("span",{className:"font-medium"},"Volume:")," ",Math.round(100*state.volume),"%"),react.createElement("div",{className:"text-slate-600 dark:text-slate-300"},react.createElement("span",{className:"font-medium"},"Duration:")," ",formatTime(state.duration)),react.createElement("div",{className:"text-slate-600 dark:text-slate-300"},react.createElement("span",{className:"font-medium"},"Current Time:")," ",formatTime(state.time)),react.createElement("div",{className:"col-span-2 text-slate-600 dark:text-slate-300"},react.createElement("span",{className:"font-medium"},"Buffered Ranges:"),react.createElement("div",{className:"flex gap-2 flex-wrap mt-1"},state.buffered.map(((range,index)=>react.createElement("span",{key:index,className:"bg-slate-200 dark:bg-slate-600 px-2 py-1 rounded text-xs"},formatTime(range.start)," - ",formatTime(range.end)))))))),react.createElement("div",{className:"space-y-2"},react.createElement("h4",{className:"font-medium text-slate-900 dark:text-slate-100"},"Quick Actions"),react.createElement("div",{className:"flex flex-wrap gap-2"},react.createElement("button",{onClick:()=>controls.seek(0),className:"px-3 py-1 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 rounded text-sm text-slate-700 dark:text-slate-300 transition-colors"},"Seek to Start"),react.createElement("button",{onClick:()=>controls.seek(state.duration/2),className:"px-3 py-1 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 rounded text-sm text-slate-700 dark:text-slate-300 transition-colors"},"Seek to Middle"),react.createElement("button",{onClick:()=>controls.seek(state.duration),className:"px-3 py-1 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 rounded text-sm text-slate-700 dark:text-slate-300 transition-colors"},"Seek to End"))),react.createElement("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded"},react.createElement("p",{className:"text-sm text-blue-600 dark:text-blue-400"},"Try out the video controls! Click on the progress bar to seek, adjust volume, and use quick actions! ðŸŽ¬")))))},Example={render:()=>react.createElement(VideoExample,null)},__namedExportsOrder=["Example"];Example.parameters={...Example.parameters,docs:{...Example.parameters?.docs,source:{originalSource:"{\n  render: () => <VideoExample />\n}",...Example.parameters?.docs?.source}}}},"./src/themes/shadcn/ThemeProvider.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>ThemeProvider});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const initialState={theme:"system",setTheme:()=>null},ThemeProviderContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(initialState);function ThemeProvider({children,defaultTheme="system",storageKey="shadcn-core-theme",...props}){const[theme,setTheme]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)((()=>localStorage.getItem(storageKey)||defaultTheme));(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{const root=window.document.documentElement;if(root.classList.remove("light","dark"),"system"!==theme)root.classList.add(theme);else{const systemTheme=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";root.classList.add(systemTheme)}}),[theme]);const value=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>({theme,setTheme:theme=>{localStorage.setItem(storageKey,theme),setTheme(theme)}})),[theme,storageKey,setTheme]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ThemeProviderContext.Provider,{...props,value},children)}ThemeProvider.__docgenInfo={description:'ShadCn Theme Provider Component\n\nProvides theme context and functionality for light/dark mode in ShadCn components.\nAutomatically handles system theme preference and persists user choice.\n\n@param {Object} props - Component props\n@param {React.ReactNode} props.children - Child components to be wrapped\n@param {Theme} [props.defaultTheme="system"] - Default theme ("light", "dark", or "system")\n@param {string} [props.storageKey="core-ui-theme"] - LocalStorage key for theme persistence',methods:[],displayName:"ThemeProvider",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},defaultTheme:{required:!1,tsType:{name:"union",raw:'"dark" | "light" | "system"',elements:[{name:"literal",value:'"dark"'},{name:"literal",value:'"light"'},{name:"literal",value:'"system"'}]},description:"",defaultValue:{value:'"system"',computed:!1}},storageKey:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"shadcn-core-theme"',computed:!1}}}}}}]);